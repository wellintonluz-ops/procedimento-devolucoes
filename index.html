<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POP Interativo: Devoluções</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active, .nav-link:hover {
            border-bottom-color: #4f46e5;
            color: #4f46e5;
        }
        .flowchart-node {
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid #e5e7eb;
        }
        .flowchart-node.active {
            border-color: #4f46e5;
            box-shadow: 0 0 15px rgba(79, 70, 229, 0.2);
            transform: scale(1.05);
        }
        .flowchart-connector {
            position: relative;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 60px;
        }
        .flowchart-connector::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: #d1d5db;
            transform: translateX(-50%);
            z-index: -1;
        }
        .flowchart-connector-arrow::after {
            content: '▼';
            color: #9ca3af;
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
        }
        .detail-card {
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        .hidden-detail {
            opacity: 0;
            transform: translateY(20px);
            pointer-events: none;
            position: absolute;
        }
        .visible-detail {
            opacity: 1;
            transform: translateY(0);
            position: relative;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <header class="bg-white shadow-sm sticky top-0 z-10">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-gray-900">POP: Procedimento de Devoluções</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#overview" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600 active">Visão Geral</a>
                        <a href="#transportadoras" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600">Transportadoras</a>
                        <a href="#marketplaces" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600">Marketplaces</a>
                        <a href="#transferencia" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600">Transferência Final</a>
                        <a href="#audio-quiz" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-gray-600">Áudio e Quiz</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <section id="overview" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Objetivo e Responsabilidades</h2>
            <p class="text-gray-600 mb-6">Esta seção resume os principais objetivos e as responsabilidades de cada setor no processo de devolução, garantindo que todos os produtos sejam tratados com rastreabilidade e controle.</p>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Objetivo</h3>
                    <p class="text-gray-600">Padronizar e garantir a eficiência no processo de recebimento e tratamento de devoluções de produtos, assegurando conformidade e controle total dos materiais.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">RMA Devoluções</h3>
                    <ul class="list-disc list-inside text-gray-600">
                        <li>Recebimento físico e conferência inicial.</li>
                        <li>Registros e transferências de depósito.</li>
                        <li>Validação de NFD, tratativas de divergências, descarte/autorização e comunicação com áreas envolvidas.</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Auditor/Qualidade</h3>
                    <ul class="list-disc list-inside text-gray-600">
                        <li>Análise e validação de divergências quando acionado.</li>
                    </ul>
                </div>
            </div>
        </section>

        <hr class="my-12 border-gray-200">

        <section id="transportadoras" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Devoluções de Transportadoras Contratadas</h2>
            <p class="text-gray-600 mb-8">Siga este fluxograma interativo para guiar o processo de conferência e tratamento de devoluções recebidas via transportadoras. Clique em cada etapa para ver as instruções detalhadas.</p>
            <div class="flex flex-col lg:flex-row gap-8">
                <div class="w-full lg:w-1/3 flex flex-col items-center">
                    <div id="node-start" class="flowchart-node active bg-white p-4 rounded-lg shadow w-64 text-center" data-target="detail-start">
                        <p class="font-semibold">Início: Conferência Inicial</p>
                    </div>
                    <div class="flowchart-connector flowchart-connector-arrow"></div>
                    <div id="node-avaria" class="flowchart-node bg-white p-4 rounded-lg shadow w-64 text-center" data-target="detail-avaria">
                        <p class="font-semibold">1. Há Avaria?</p>
                    </div>
                    <div class="flowchart-connector flowchart-connector-arrow"></div>
                    <div id="node-sku" class="flowchart-node bg-white p-4 rounded-lg shadow w-64 text-center" data-target="detail-sku">
                        <p class="font-semibold">2. SKU Divergente?</p>
                    </div>
                    <div class="flowchart-connector flowchart-connector-arrow"></div>
                    <div id="node-nfd" class="flowchart-node bg-white p-4 rounded-lg shadow w-64 text-center" data-target="detail-nfd">
                        <p class="font-semibold">3. Sem NFD no Sistema?</p>
                    </div>
                    <div class="flowchart-connector flowchart-connector-arrow"></div>
                    <div id="node-pos-recebimento" class="flowchart-node bg-white p-4 rounded-lg shadow w-64 text-center" data-target="detail-pos-recebimento">
                        <p class="font-semibold">4. Processo Pós-Recebimento</p>
                    </div>
                </div>
                <div class="w-full lg:w-2/3">
                    <div class="bg-white p-6 rounded-lg shadow min-h-[400px] relative overflow-hidden">
                        <div id="detail-start" class="detail-card visible-detail">
                            <h3 class="text-lg font-bold text-indigo-700 mb-3">Conferência Inicial</h3>
                            <p class="text-gray-700">Ao receber o material, realize a conferência inicial. Verifique a NFD, o físico e as anotações do sistema. Valide <strong>SKU, quantidade, nome do cliente e integridade do material</strong>.</p>
                        </div>
                        <div id="detail-avaria" class="detail-card hidden-detail">
                            <h3 class="text-lg font-bold text-indigo-700 mb-3">Tratativa: Avaria</h3>
                            <p class="text-gray-700 font-semibold text-red-700">Se houver autorização no sistema, prossiga. Caso contrário, recuse o material.</p>
                            <ul class="list-disc list-inside text-gray-600 mt-2">
                                <li><strong>Recusa:</strong> Registrar ressalva na NFD, assinar, devolver ao motorista e informar o SAC.</li>
                                <li><strong>Produtos INOX avariados:</strong> Transferir para <strong>PROD.AT</strong> (Sistema e físico) para descaracterização e baixa.</li>
                            </ul>
                            <h4 class="text-base font-bold text-gray-800 mt-4 mb-2">Componentes Avariados de Produto Acabado</h4>
                            <p class="text-gray-700 font-semibold mt-2">Cenário 1: HÁ estoque para reposição do componente</p>
                            <ul class="list-disc list-inside text-gray-600 mt-1">
                                <li>Solicite a reposição do componente e a baixa do insumo avariado no sistema.</li>
                                <li>Mova o componente danificado para a área <strong>PROD.AT</strong>.</li>
                                <li>Solicite a descaracterização do material na área <strong>PROD.AT</strong>.</li>
                            </ul>
                             <p class="text-gray-700 font-semibold mt-2">Cenário 2: NÃO HÁ estoque para reposição do componente</p>
                            <ul class="list-disc list-inside text-gray-600 mt-1">
                                <li>Solicite ao setor de PCP uma ordem de desmontagem para o produto acabado.</li>
                                <li>Transfira o componente danificado para a área <strong>PROD.AT</strong>.</li>
                                <li>Solicite a descaracterização do material e a baixa definitiva do item.</li>
                            </ul>
                        </div>
                        <div id="detail-sku" class="detail-card hidden-detail">
                            <h3 class="text-lg font-bold text-indigo-700 mb-3">Tratativa: SKU Divergente</h3>
                            <p class="text-gray-700 font-semibold text-red-700">Recuse o material imediatamente.</p>
                            <ul class="list-disc list-inside text-gray-600 mt-2">
                                <li>Inserir ressalva na NFD informando a não conformidade.</li>
                                <li>Assinar, datar e devolver a NFD ao motorista.</li>
                                <li>Registrar o motivo da recusa no sistema e informar o SAC no grupo do WhatsApp.</li>
                            </ul>
                        </div>
                        <div id="detail-nfd" class="detail-card hidden-detail">
                            <h3 class="text-lg font-bold text-indigo-700 mb-3">Tratativa: Sem NFD no Sistema</h3>
                            <p class="text-gray-700 font-semibold text-red-700">Recuse o material imediatamente.</p>
                            <p class="text-gray-600 mt-2">Reporte a devolução sem NFD ao seu líder e no grupo do WhatsApp.</p>
                        </div>
                        <div id="detail-pos-recebimento" class="detail-card hidden-detail">
                            <h3 class="text-lg font-bold text-indigo-700 mb-3">Processo Pós-Recebimento (Sem Divergências)</h3>
                            <p class="text-gray-700">Produto OK? Siga estes passos:</p>
                            <ul class="list-disc list-inside text-gray-600 mt-2">
                                <li>Inserir ressalva "<strong>PRODUTO OK</strong>" na NFD, assinar e datar.</li>
                                <li>Realizar recebimento no sistema, gerando a etiqueta.</li>
                                <li>Fixar a etiqueta nas pontas da embalagem.</li>
                                <li>Confirmar alocação no depósito <strong>REC.AT</strong> no sistema.</li>
                                <li>Realizar troca de embalagem e solicitar baixa de componentes, se necessário.</li>
                                <li>Transferir fisicamente e no sistema para o depósito de destino (BO.AT ou porta-pallet).</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <hr class="my-12 border-gray-200">

        <section id="marketplaces" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Devoluções de Marketplaces (Magalu, Mercado Livre, Correios)</h2>
            <p class="text-gray-600 mb-6">O processo para marketplaces é ligeiramente diferente, pois o motorista não precisa aguardar a conferência completa. Clique para ver os detalhes.</p>
            <div class="space-y-4">
                <div class="accordion-item bg-white rounded-lg shadow-sm">
                    <button class="accordion-header w-full text-left p-4 font-semibold flex justify-between items-center">
                        <span>Procedimento Básico</span>
                        <span class="accordion-icon transform transition-transform">▶</span>
                    </button>
                    <div class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-4 border-t border-gray-200">
                            <p class="text-gray-600">O motorista não precisa aguardar. A conferência é feita em um segundo momento.</p>
                            <ol class="list-decimal list-inside text-gray-600 mt-2">
                                <li>Conferir a Nota Fiscal.</li>
                                <li>Se não houver NFD, solicitar ao RMA administrativo via planilha.</li>
                                <li>Se houver NFD, prosseguir com a conferência documento × físico.</li>
                                <li>Realizar o recebimento no sistema, gerar a etiqueta e fixá-la.</li>
                            </ol>
                        </div>
                    </div>
                </div>
                <div class="accordion-item bg-white rounded-lg shadow-sm">
                    <button class="accordion-header w-full text-left p-4 font-semibold flex justify-between items-center">
                        <span>Tratativa de Avaria</span>
                        <span class="accordion-icon transform transition-transform">▶</span>
                    </button>
                    <div class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-4 border-t border-gray-200">
                            <ol class="list-decimal list-inside text-gray-600">
                                <li>Registrar ressalva na NFD e anotar a avaria no sistema.</li>
                                <li>Tirar fotos do produto, caixa e documento.</li>
                                <li>Enviar as informações ao RMA administrativo (ou setor Comercial).</li>
                                <li>Após autorização, transferir para <strong>REC.DESC</strong> e solicitar a baixa.</li>
                                <li>Realizar o descarte físico.</li>
                                <li><strong>Produtos INOX avariados:</strong> Transferir para <strong>PROD.AT</strong> (Sistema e físico) para descaracterização e baixa.</li>
                            </ol>
                        </div>
                    </div>
                </div>
                <div class="accordion-item bg-white rounded-lg shadow-sm">
                    <button class="accordion-header w-full text-left p-4 font-semibold flex justify-between items-center">
                        <span>Tratativa de SKU Divergente</span>
                        <span class="accordion-icon transform transition-transform">▶</span>
                    </button>
                    <div class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out">
                        <div class="p-4 border-t border-gray-200">
                             <ol class="list-decimal list-inside text-gray-600">
                                <li>Fazer ressalva na NFD e registrar a divergência no sistema.</li>
                                <li>Tirar fotos do produto, caixa e documento.</li>
                                <li>Enviar as informações para o RMA administrativo (ou setor Comercial).</li>
                                <li>Alocar o produto divergente na área de descarte (<strong>REC.DESC</strong>) no sistema e solicitar a baixa.</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <hr class="my-12 border-gray-200">

        <section id="transferencia" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Transferência Final</h2>
            <p class="text-gray-600 mb-6">Aqui estão os passos para a finalização da movimentação dos produtos, independentemente do tipo de devolução.</p>
             <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                 <div class="bg-white p-6 rounded-lg shadow">
                     <h3 class="text-lg font-semibold text-gray-900 mb-2">Movimentação Final</h3>
                     <p class="text-gray-600">Mover o produto fisicamente e no sistema para o depósito de destino conforme a tratativa (<strong>BO.AT</strong>, <strong>REC.AT</strong>, <strong>REC.DESC</strong>, locação porta-pallet, etc.).</p>
                 </div>
                 <div class="bg-white p-6 rounded-lg shadow">
                     <h3 class="text-lg font-semibold text-gray-900 mb-2">Troca de Embalagem</h3>
                     <p class="text-gray-600">Realizar a troca de embalagem quando necessário e solicitar a baixa do material consumido do estoque.</p>
                 </div>
                 <div class="bg-white p-6 rounded-lg shadow">
                     <h3 class="text-lg font-semibold text-gray-900 mb-2">Documentação</h3>
                     <p class="text-gray-600">Manter arquivadas NFDs com ressalvas, registros fotográficos e comprovantes de transferências.</p>
                 </div>
             </div>
        </section>

        <hr class="my-12 border-gray-200">

        <!-- New Section for Audio and Quiz -->
        <section id="audio-quiz" class="mb-12">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">Áudio e Quiz de Conhecimentos</h2>

            <!-- Audio Player Section -->
            <div class="mb-8 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm">
                <h3 class="text-xl font-semibold mb-3 text-gray-700">Ouvir o Procedimento</h3>
                <audio controls class="w-full rounded-md shadow">
                    <source src="pop-procedimento-devolucoes.mp3" type="audio/mpeg">
                    Seu navegador não suporta o elemento de áudio.
                </audio>
            </div>

            <!-- Quiz Section -->
            <div class="p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm">
                <h3 class="text-xl font-semibold mb-4 text-gray-700">Quiz de Conhecimentos</h3>

                <!-- Quiz container, hidden by default -->
                <div id="quiz-container" class="space-y-4 hidden">
                    <div class="bg-blue-500 text-white p-3 rounded-md text-lg font-medium mb-4" id="question-text"></div>
                    <div id="options-container" class="space-y-3"></div>
                    <div id="feedback" class="text-center font-medium mt-4"></div>
                    <button id="next-button" class="mt-4 w-full bg-gray-300 text-gray-700 py-2 px-4 rounded-md font-bold transition-colors hover:bg-gray-400">Próxima Pergunta</button>
                </div>

                <!-- Quiz start and result screens -->
                <div id="start-screen" class="text-center">
                    <p class="text-gray-600 mb-4">Clique no botão para iniciar o quiz.</p>
                    <button id="start-button" class="bg-blue-500 text-white py-2 px-6 rounded-md font-bold text-lg shadow-md transition-transform transform hover:scale-105">Iniciar Quiz</button>
                </div>

                <div id="result-screen" class="text-center hidden">
                    <p class="text-2xl font-bold text-gray-800 mb-3">Quiz Concluído!</p>
                    <p class="text-xl text-gray-600 mb-4">Sua pontuação: <span id="score-text" class="font-bold text-blue-600"></span></p>
                    <button id="restart-button" class="bg-green-500 text-white py-2 px-6 rounded-md font-bold text-lg shadow-md transition-transform transform hover:scale-105">Refazer o Quiz</button>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white mt-12">
        <div class="container mx-auto px-8 py-4 text-center text-gray-500">
            <p>&copy; 2025 Guia de Procedimentos Internos. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main section');

            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.4
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    document.querySelector(link.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            const flowchartNodes = document.querySelectorAll('.flowchart-node');
            const detailCards = document.querySelectorAll('.detail-card');

            flowchartNodes.forEach(node => {
                node.addEventListener('click', () => {
                    const targetId = node.dataset.target;

                    flowchartNodes.forEach(n => n.classList.remove('active'));
                    node.classList.add('active');

                    detailCards.forEach(card => {
                        if (card.id === targetId) {
                            card.classList.remove('hidden-detail');
                            card.classList.add('visible-detail');
                        } else {
                            card.classList.remove('visible-detail');
                            card.classList.add('hidden-detail');
                        }
                    });
                });
            });

            const accordionItems = document.querySelectorAll('.accordion-item');
            accordionItems.forEach(item => {
                const header = item.querySelector('.accordion-header');
                const content = item.querySelector('.accordion-content');
                const icon = item.querySelector('.accordion-icon');

                header.addEventListener('click', () => {
                    const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';
                    
                    document.querySelectorAll('.accordion-content').forEach(c => c.style.maxHeight = '0px');
                    document.querySelectorAll('.accordion-icon').forEach(i => i.style.transform = 'rotate(0deg)');

                    if (!isOpen) {
                        content.style.maxHeight = content.scrollHeight + 'px';
                        icon.style.transform = 'rotate(90deg)';
                    }
                });
            });

            // Quiz Functionality
            const questions = [
                {
                    question: "Qual o prazo para finalizar o processo de devoluções do Mercado Livre?",
                    options: ["3 dias úteis", "1 dia útil", "5 dias úteis", "No mesmo dia"],
                    answer: "1 dia útil"
                },
                {
                    question: "De acordo com o POP, quem é responsável pelo recebimento físico e conferência inicial?",
                    options: ["Almoxarifado", "Auditor/Qualidade", "RMA Devoluções", "Setor Comercial"],
                    answer: "RMA Devoluções"
                },
                {
                    question: "O que deve ser verificado na conferência inicial de uma devolução?",
                    options: ["Apenas a NFD e o nome do cliente", "SKU, quantidade, nome do cliente e integridade do material", "Apenas a integridade do material", "NFD e as anotações do sistema"],
                    answer: "SKU, quantidade, nome do cliente e integridade do material"
                },
                {
                    question: "O que deve ser feito com um produto INOX avariado?",
                    options: ["Recusar imediatamente", "Transferir para PROD.AT para descaracterização e baixa", "Enviar para o RMA administrativo", "Anotar a avaria e seguir com o processo normal"],
                    answer: "Transferir para PROD.AT para descaracterização e baixa"
                },
                {
                    question: "Em caso de SKU divergente em uma devolução de transportadora contratada, qual a ação a ser tomada?",
                    options: ["Aceitar o material e informar o RMA", "Recusar o material e registrar ressalva na NFD", "Aceitar o material e transferir para REC.DESC", "Solicitar ao cliente a nota fiscal correta"],
                    answer: "Recusar o material e registrar ressalva na NFD"
                },
                {
                    question: "Em devoluções de Magalu, Mercado Livre e Correios, o que deve ser feito se não houver NFD?",
                    options: ["Recusar a devolução", "Solicitar ao RMA administrativo via planilha", "Solicitar ao setor Comercial", "Receber o material e aguardar a NFD"],
                    answer: "Solicitar ao RMA administrativo via planilha"
                },
                {
                    question: "Qual a observação que deve ser inserida na NFD quando o produto está em conformidade?",
                    options: ["Divergência", "Avaria no material", "PRODUTO OK", "Recebido sem ressalvas"],
                    answer: "PRODUTO OK"
                },
                {
                    question: "Para devoluções da JADLOG, além de registrar a ocorrência, o que é necessário fazer em caso de divergência?",
                    options: ["Devolver o material sem ressalva", "Recusar e apenas informar no grupo do WhatsApp", "Tirar fotos do documento, etiquetas, caixa e produto", "Entregar para o Auditor/Qualidade analisar"],
                    answer: "Tirar fotos do documento, etiquetas, caixa e produto"
                },
                {
                    question: "Qual é a responsabilidade do setor de Auditor/Qualidade?",
                    options: ["Recebimento físico e conferência inicial", "Descarte e comunicação com áreas envolvidas", "Análise e validação de divergências quando acionado", "Troca de embalagens e baixa de material"],
                    answer: "Análise e validação de divergências quando acionado"
                },
                {
                    question: "Após o recebimento sem divergências, onde o produto é alocado no sistema?",
                    options: ["BO.AT", "REC.AT", "REC.DESC", "PROD.AT"],
                    answer: "REC.AT"
                },
                {
                    question: "Se não houver estoque para a reposição de um componente avariado, qual a ação inicial a ser tomada?",
                    options: ["Solicitar a baixa do material imediatamente", "Recusar o produto para o cliente", "Solicitar ao setor de PCP uma ordem de desmontagem", "Avisar o setor comercial sobre a falta de estoque"],
                    answer: "Solicitar ao setor de PCP uma ordem de desmontagem"
                }
            ];

            let currentQuestionIndex = 0;
            let score = 0;
            let answeredThisQuestion = false;

            const startButton = document.getElementById('start-button');
            const nextButton = document.getElementById('next-button');
            const restartButton = document.getElementById('restart-button');

            const startScreen = document.getElementById('start-screen');
            const quizContainer = document.getElementById('quiz-container');
            const resultScreen = document.getElementById('result-screen');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const scoreText = document.getElementById('score-text');
            const feedbackText = document.getElementById('feedback');

            if (startButton) startButton.addEventListener('click', startQuiz);
            if (nextButton) nextButton.addEventListener('click', () => {
                if (answeredThisQuestion) {
                    currentQuestionIndex++;
                    if (currentQuestionIndex < questions.length) {
                        showQuestion();
                    } else {
                        showResult();
                    }
                }
            });
            if (restartButton) restartButton.addEventListener('click', restartQuiz);

            function startQuiz() {
                startScreen.classList.add('hidden');
                resultScreen.classList.add('hidden');
                quizContainer.classList.remove('hidden');
                currentQuestionIndex = 0;
                score = 0;
                showQuestion();
            }

            function showQuestion() {
                answeredThisQuestion = false;
                nextButton.classList.add('hidden');
                feedbackText.textContent = '';
                
                const currentQuestion = questions[currentQuestionIndex];
                questionText.textContent = `Pergunta ${currentQuestionIndex + 1}: ${currentQuestion.question}`;
                
                optionsContainer.innerHTML = '';
                currentQuestion.options.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.classList.add('w-full', 'bg-white', 'text-gray-800', 'py-3', 'px-4', 'rounded-md', 'border', 'border-gray-300', 'text-left', 'transition-colors', 'hover:bg-gray-200');
                    button.addEventListener('click', () => selectAnswer(button, option));
                    optionsContainer.appendChild(button);
                });
            }

            function selectAnswer(button, selectedOption) {
                if (answeredThisQuestion) return;
                answeredThisQuestion = true;
                
                const currentQuestion = questions[currentQuestionIndex];
                
                if (selectedOption === currentQuestion.answer) {
                    score++;
                    button.classList.remove('bg-white', 'hover:bg-gray-200');
                    button.classList.add('bg-green-500', 'text-white', 'pointer-events-none');
                    feedbackText.textContent = "Correto!";
                    feedbackText.classList.remove('text-red-500');
                    feedbackText.classList.add('text-green-500');
                } else {
                    button.classList.remove('bg-white', 'hover:bg-gray-200');
                    button.classList.add('bg-red-500', 'text-white', 'pointer-events-none');
                    feedbackText.textContent = `Incorreto. A resposta correta era: "${currentQuestion.answer}"`;
                    feedbackText.classList.remove('text-green-500');
                    feedbackText.classList.add('text-red-500');

                    const optionButtons = optionsContainer.querySelectorAll('button');
                    optionButtons.forEach(btn => {
                        if (btn.textContent === currentQuestion.answer) {
                            btn.classList.add('bg-green-500', 'text-white');
                        }
                        btn.classList.add('pointer-events-none');
                    });
                }

                nextButton.classList.remove('hidden');
            }

            function showResult() {
                quizContainer.classList.add('hidden');
                resultScreen.classList.remove('hidden');
                scoreText.textContent = `${score} de ${questions.length}`;
            }

            function restartQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                startScreen.classList.remove('hidden');
                quizContainer.classList.add('hidden');
                resultScreen.classList.add('hidden');
                startQuiz();
            }
        });
    </script>

</body>
</html>
